<div class="container">
  <form [formGroup]="myForm">
    <div class="form-group">
    <h4 >{{'ownedBy' | translate}}   {{ownedBy}}  </h4>
    </div>

    <div class="form-group">
    <label>Status of the Vacancy</label>
      <select class="form-control" formControlName="state" required>
        <option  value="open">Open</option>
        <option  value="close">Close</option>
        <option  value="suspended">Suspended</option>
      </select>
      <div class=" form-control-feedback control-label"
           *ngIf="state.errors && (state.dirty || state.touched)">
        <p class="error" *ngIf="state.errors.required">Status is required</p>
      </div>
    </div>

    <fieldset formGroupName="position">
    <div class="form-group">
    <label>Title</label>
      <select class="form-control" formControlName="idPosition" required (change)="selectPosition($event.target.value)">
        <option  *ngFor="let position of positionList" [value]="position.idPosition">{{position.positionName}}</option>
      </select>
      <div class=" form-control-feedback control-label"
           *ngIf="idPosition.errors && (idPosition.dirty || idPosition.touched)">
        <p class="error" *ngIf="title.errors.required">Title is required</p>
      </div>
    </div>
    </fieldset>

    <div class="form-group">
    <label >Experience</label>

      <input class="form-control" type="number"   placeholder="experience"
             formControlName="experience" required>
      <div class=" form-control-feedback control-label"
           *ngIf="experience.errors && (experience.dirty || experience.touched)">
        <p class="error" *ngIf="experience.errors.required">Experience is required</p>
      </div>
    </div>

<div class="form-group"
         [ngClass]="numberOpening.invalid && (numberOpening.dirty || numberOpening.touched) ? 'has-danger' : 'has-success' ">
    <label >Number opening</label>
    <input class="form-control" type="number"   placeholder="Number Opening"
           formControlName="numberOpening" required>
      <div class=" form-control-feedback control-label"
           *ngIf="numberOpening.errors && (numberOpening.dirty || numberOpening.touched)">
        <p class="error" *ngIf="numberOpening.errors.required">Number opening is required</p>
      </div>
    </div>

    <fieldset formGroupName="department">
    <div class="form-group">
    <label>Department</label>
    <select  class="form-control" formControlName="idDepartment" required (change)="select($event.target.value)">
      <option  *ngFor="let depart of departmentList" [value]="depart.idDepartment"    >
        {{depart.departmentName}}</option>
    </select>
<!--      (click)="select(depart.idDepartment)"-->
<!--      <div class=" form-control-feedback control-label"-->
<!--           *ngIf="department.errors && (department.dirty || department.touched)">-->
<!--        <p class="error" *ngIf="department.errors.required">Department is required</p>-->
<!--      </div>-->
    </div>
    </fieldset>

    <div class="form-group"
         [ngClass]="dateClose.invalid && (dateClose.dirty || dateClose.touched) ? 'has-danger' : 'has-success' ">
    <label for="dateGetsClosed">Date close</label>
    <input type="date"  id="dateGetsClosed" name="dateGetsClosed" class="form-control"
           formControlName="dateClose" required>
      <div class=" form-control-feedback control-label"
           *ngIf="dateClose.errors && (dateClose.dirty || dateClose.touched)">
        <p class="error" *ngIf="dateClose.errors.required">Date close is required</p>
      </div>
    </div>

    <div class="form-group">
    <label>Gender</label> <br>
      <select  class="form-control" formControlName="gender">
        <option value="1">Male</option>
        <option value="0">Female</option>
      </select>
    </div>

    <div class="form-group"
      [ngClass]="degree.invalid && (degree.dirty || degree.touched) ? 'has-danger' : 'has-success' ">
      <label>Degree/Certificate</label>
    <input class="form-control" type="text" placeholder="Degree/Certificate"
           formControlName="degree" required>
      <div class="form-control-feedback"
           *ngIf="degree.errors && (degree.dirty || degree.touched)">
        <p class="error"  *ngIf="degree.errors.required" class="error">Degree/Certificate is required</p>
      </div>
    </div>



      <label>Offer</label>
      <input class="form-control" type="text" placeholder="Offer"
             formControlName="offer" required>


    <div class="form-group">
    <label >Type Of Staff:</label>
      <select class="form-control" formControlName="typeOfStaff" required>
        <option value="partTime">Part time</option>
        <option value="fullTime">Full Time</option>
        <option value="partTime">Freelance</option>
        <option value="partTime">Intership</option>
      </select>
      <div class="invalid-feedback"
           *ngIf="typeOfStaff.errors && (typeOfStaff.dirty || typeOfStaff.touched)">
        <p class="error" *ngIf="typeOfStaff.errors.required">Type Of Staff is required</p>
      </div>
    </div>

    <div class="form-group"
         [ngClass]="description.invalid && (description.dirty || description.touched) ? 'has-danger' : 'has-success' ">
      <label>Description Details</label>
      <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                formControlName="descriptiondetails" required></textarea>
      <div class=" form-control-feedback control-label"
           *ngIf="descriptiondetails.errors && (descriptiondetails.dirty || descriptiondetails.touched)">
        <p class="error" *ngIf="descriptiondetails.errors.required">Description Details is required</p>
      </div>
    </div>
    <button class="btn btn-info" (click)="onsubmit()" >Save</button>
    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
  </form>
</div>

